const form=document.getElementById("contact-form");const statusEl=document.getElementById("form-status");if(form){const fields=Array.from(form.querySelectorAll("input, select, textarea"));const validators={nombre:value=>value.trim().length>2,email:value=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value.trim()),telefono:value=>value.trim()===""||/^[0-9+\s-]{6,}$/.test(value.trim()),asunto:value=>value!=="",mensaje:value=>value.trim().length>5};const validateField=field=>{const validator=validators[field.name];const isValid=validator?validator(field.value):field.checkValidity();field.classList.remove("is-valid","is-invalid");if(isValid){field.classList.add("is-valid");field.setCustomValidity("");}else{field.classList.add("is-invalid");field.setCustomValidity("Inválido");}};fields.forEach(field=>{const eventType=field.tagName.toLowerCase()==="select"?"change":"input";field.addEventListener(eventType,()=>{validateField(field);statusEl.textContent="";});});form.addEventListener("submit",event=>{event.preventDefault();fields.forEach(validateField);const hasError=fields.some(field=>!field.checkValidity());if(hasError){statusEl.textContent="Por favor revise los campos obligatorios para su proyecto de carpintería.";statusEl.className="text-danger";}else{statusEl.textContent="Su mensaje ha sido enviado con éxito. Nos pondremos en contacto con usted pronto para discutir su proyecto de carpintería.";statusEl.className="text-success";form.reset();fields.forEach(field=>field.classList.remove("is-valid","is-invalid"));}});}
